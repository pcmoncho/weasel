"use strict";const a=Number(process.env.PORT||3002),b=require("express"),c=b(),d=require("body-parser"),e=require("method-override");let f=require("./controllers/process");c.use(d.urlencoded({extended:!1})),c.use(d.json()),c.use(e());const g=b.Router(),h=b.Router();c.use((a,b,c)=>{b.setHeader("Access-Control-Allow-Origin","*"),b.setHeader("Access-Control-Allow-Methods","GET, POST, OPTIONS, PUT, PATCH, DELETE"),b.setHeader("Access-Control-Allow-Headers","content-type"),c()}),h.route("/list/folders/:name").get(f.listFolders),h.route("/list/rests").get(f.listRests),h.route("/list/options").get(f.listOptions),h.route("/add/folder/:name").post(f.addFolder),h.route("/add/rest/:name").post(f.addRest),h.route("/add/rest-folder/:name").post(f.addRestToFolder),h.route("/delete/folder/:name").post(f.deleteFolder),h.route("/delete/rest/:name").post(f.deleteRest),h.route("/remove/rest/:name").post(f.removeRest),h.route("/options").post(f.saveOptions),h.route("/start/:name").get(f.start),h.route("/kill").get(f.kill),c.use(b.static(__dirname+"/dist")),g.get("/",(a,b)=>b.sendFile("dist/index.html")),c.use("/weasel-api",h),c.use(g),c.listen(a,()=>console.log("Node server running on http://localhost:"+a));
